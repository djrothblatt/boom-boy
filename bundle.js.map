{"version":3,"sources":["webpack:///webpack/bootstrap f82ef1a0bfa508ca5a60","webpack:///external \"createjs\"","webpack:///./lib/constants.js","webpack:///./lib/player/movable.js","webpack:///./lib/player/ai_player.js","webpack:///./lib/player/player.js","webpack:///./lib/board.js","webpack:///./lib/bomb.js","webpack:///./lib/boom_boy.js"],"names":["NUM_ROWS","NUM_COLS","BOX_X","BOX_Y","NUM_DESTRUCTIBLES","MOVE_KEYS_P1","a","w","d","s","f","MOVE_KEYS_P2","j","i","l","k","h","Movable","x","y","color","stage","boxLength","boxHeight","sprite","Bitmap","addChild","removeChild","direction","randomInt","max","Math","floor","random","AIPlayer","resetMove","resetBomb","ticksToMove","ticksToBomb","validMoves","length","Player","moveKeys","key","Ticker","paused","Board","humanPlayers","aiPlayers","numRows","numCols","grid","innerArray","push","undefined","placeObstacles","inBounds","bind","placeExplosion","xPos","yPos","floorTile","tileType","tile","players","concat","forEach","player","draw","includes","hasObstacle","col","row","placeBorder","placeDestructibles","placeIndestructibles","bomb","window","setTimeout","positionsInBounds","explosionPath","map","line","filter","unobstructedPositions","removeObstructedPositions","flattened","reduce","list","val","lifetime","targetArray","targetIndex","indexOf","splice","remove","out","n","pos","isOccupied","clearDestructibles","newX","newY","move","isValidMove","placeBomb","Bomb","range","oneUpto","dx","dy","left","right","up","down","acc","init","Stage","player1","player2","player3","player4","board","addEventListener","tick","modal","document","getElementById","style","display","span","getElementsByClassName","onclick","e","target","onkeydown","handleKeyDown","preventDefault","movePlayers","togglePause","toggleModal","removeAllChildren","moveAI","update"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f82ef1a0bfa508ca5a60","module.exports = createjs;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"createjs\"\n// module id = 0\n// module chunks = 0","export const NUM_ROWS = 15; // number of boxes on x-axis\nexport const NUM_COLS = 13;\nexport const BOX_X = 25; // size of box on x-axis\nexport const BOX_Y = 44;\nexport const NUM_DESTRUCTIBLES = 25;\n\nexport const MOVE_KEYS_P1 = {\n    a: 'left',\n    w: 'up',\n    d: 'right',\n    s: 'down',\n    f: 'bomb'\n};\n\nexport const MOVE_KEYS_P2 = {\n    j: 'left',\n    i: 'up',\n    l: 'right',\n    k: 'down',\n    h: 'bomb'\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/constants.js","/* Abstract class */\nimport { BOX_X, BOX_Y } from '../constants';\nimport createjs from 'createjs';\n\nexport default class Movable {\n    constructor({x, y, color, stage}) {\n        this.x = x;\n        this.y = y;\n        this.color = color;\n        this.stage = stage;\n    }\n\n    draw(boxLength, boxHeight) {\n        let sprite = new createjs.Bitmap(`../assets/${this.color}-standing-player.png`);\n        sprite.x = this.x * boxLength;\n        sprite.y = this.y * boxHeight;\n        this.stage.addChild(sprite);\n    }\n\n    remove() {\n        this.stage.removeChild(this);\n    }\n\n    direction() {\n        // instantiated by child classes\n    }\n\n    move(direction) {\n        switch (direction) {\n        case 'left':\n            this.x--;\n            return;\n        case 'right':\n            this.x++;\n            return;\n        case 'up':\n            this.y--;\n            return;\n        case 'down':\n            this.y++;\n            return;\n        default:\n            return;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player/movable.js","import Movable from './movable';\n\nfunction randomInt(max) { // in { 0, 1 ..., max-1 }\n    return Math.floor(Math.random() * max);\n}\n\nexport default class AIPlayer extends Movable {\n    constructor({x, y, color, stage}) {\n        super({x, y, color, stage});\n        this.resetMove();\n        this.resetBomb();\n    }\n\n    resetMove() {\n        this.ticksToMove = randomInt(10) + 1;\n    }\n\n    resetBomb() {\n        this.ticksToBomb = randomInt(55) + 1;\n    }\n    \n    direction({validMoves}) {\n        if (this.ticksToMove-- === 0) {\n            this.resetMove();\n            return validMoves[randomInt(validMoves.length)];\n        } else if (this.ticksToBomb-- === 0) {\n            this.resetBomb();\n            return \"bomb\";\t  \n        } else {\n            return null;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player/ai_player.js","import createjs from 'createjs';\nimport Movable from './movable';\n\nexport default class Player extends Movable {\n    constructor({x, y, color, stage, moveKeys}) {\n        super({x, y, color, stage});\n        this.moveKeys = moveKeys;\n    }\n\n    direction({key}) {\n\tif (createjs.Ticker.paused) return null;\n\treturn this.moveKeys[key];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player/player.js","import { NUM_ROWS, NUM_COLS, BOX_X, BOX_Y, NUM_DESTRUCTIBLES } from './constants';\n\nimport createjs from 'createjs';\nimport Bomb from './bomb';\nimport Movable from './player/movable';\nimport AIPlayer from './player/ai_player';\nimport Player from './player/player';\n\nclass Board {\n    constructor(stage, humanPlayers, aiPlayers) {\n        this.numRows = NUM_ROWS;\n        this.numCols = NUM_COLS;\n        this.boxLength = BOX_X;\n        this.boxHeight = BOX_Y;\n\n        this.grid = [];\n\n        for (let i = 0; i < this.numCols; i++) {\n            let innerArray = [];\n\n            for (let j = 0; j < this.numRows; j++) {\n\t              innerArray.push(undefined);\n            }\n\n            this.grid.push(innerArray);\n        }\n\n        this.placeObstacles();\n        this.stage = stage;\n        this.humanPlayers = humanPlayers;\n        this.aiPlayers = aiPlayers;\n\n        this.inBounds = this.inBounds.bind(this);\n        this.placeExplosion = this.placeExplosion.bind(this);\n    }\n\n    draw() {\n        for (let i = 0; i < this.numCols; i++) {\n            for (let j = 0; j < this.numRows; j++) {\n\t              const xPos = i * this.boxLength;\n\t              const yPos = j * this.boxHeight;\n\n\t              const floorTile = new createjs.Bitmap('./assets/floor.png');\n\t              floorTile.x = xPos;\n\t              floorTile.y = yPos;\n\t              this.stage.addChild(floorTile);\n\n\t              let tileType = this.grid[i][j] || \"floor\";\n\t              if (tileType instanceof Movable) { tileType = \"floor\"; }\n\n\t              const tile = new createjs.Bitmap(`./assets/${tileType}.png`);\n\t              tile.x = xPos;\n\t              tile.y = yPos;\n\t              this.stage.addChild(tile);\n            }\n        }\n        const players = this.humanPlayers.concat(this.aiPlayers);\n        players.forEach(player => player.draw(this.boxLength, this.boxHeight));\n    }\n\n    hasObstacle({x, y}) {\n        return ([\"brick\", \"destructibleBrick\", \"bomb\"].includes(this.grid[x][y]));\n    }\n\n    isOccupied({x, y}) {\n        return this.hasObstacle({x, y}) || this.grid[x][y] instanceof Movable;\n    }\n\n    placeBorder() {\n        for (let i = 0; i < this.numCols; i++) {\n            this.grid[i][0] = \"brick\";\n            this.grid[i][this.numRows - 1] = \"brick\";\n        }\n        for (let j = 0; j < this.numRows; j++) {\n            this.grid[0][j] = \"brick\";\n            this.grid[this.numCols - 1][j] = \"brick\";\n        }\n    }\n\n    placeDestructibles() {\n        for (let col = 3; col < this.numCols - 3; col++) {\n            this.grid[col][1] = \"destructibleBrick\";\n            this.grid[col][this.numRows - 2] = \"destructibleBrick\";\n        }\n        for (let col = 2; col < this.numCols - 2; col++) {\n            this.grid[col][2] = \"destructibleBrick\";\n            this.grid[col][this.numRows - 3] = \"destructibleBrick\";\n        }\n        for (let col = 1; col < this.numCols - 1; col++) {\n            for (let row = 3; row < this.numRows - 3; row++) {\n                this.grid[col][row] = \"destructibleBrick\";\n            }\n        }\n    }\n\n    placeIndestructibles() {\n        for (let i = 2; i < this.numCols - 2; i += 2) {\n            for (let j = 2; j < this.numRows - 2; j += 2) {\n                this.grid[i][j] = \"brick\";\n            }\n        }\t\n    }\n\n    placeObstacles() {\n        this.placeBorder();\n        this.placeDestructibles();\n        this.placeIndestructibles();\n    }\n\n    placeBomb(player) {\n        const x = player.x;\n        const y = player.y;\n        const bomb =  new Bomb({x, y});\n        this.grid[x][y] = \"bomb\";\n\n        window.setTimeout(() => {\n            this.grid[x][y] = undefined;\n            const positionsInBounds = bomb.explosionPath().map(line => line.filter(this.inBounds));\n            const unobstructedPositions = positionsInBounds.map(line => this.removeObstructedPositions(line));\n            const flattened = unobstructedPositions.reduce((list, val) => list.concat(val), []);\n            flattened.forEach(this.placeExplosion);\n        }, bomb.lifetime);\n    }\n\n    placeExplosion({x, y}) {\n        this.grid[x][y] = \"explosion\";\n        window.setTimeout(() => {\n            this.grid[x][y] = undefined;\n        }, 750);\n    }\n\n    clearDestructibles({x, y}) {\n        if (this.grid[x][y] === \"destructibleBrick\") {\n            this.grid[x][y] = undefined;\n        } else if (this.grid[x][y] instanceof Movable) {\n            let targetArray;\n\n            if (this.grid[x][y] instanceof Player) {\n                targetArray = this.humanPlayers;\n            } else {\n                targetArray = this.aiPlayers;\n            }\n\n            const targetIndex = targetArray.indexOf(this.grid[x][y]);\n            targetArray.splice(targetIndex, 1);\n\n            this.grid[x][y].remove();\n            this.grid[x][y] = undefined;\n        }\n    }\n\n    removeObstructedPositions(line) {\n        let out = [];\n\n        for (let i = 0, n = line.length; i < n; i++) {\n            const pos = line[i];\n            if (this.isOccupied(pos)) {\n\t              this.clearDestructibles(pos);\n\t              return out;\n            } else {\n\t              out.push(pos);\n            }\n        };\n\n        return out;\n    }\n\n    inBounds({x, y}) {\n        return (x >= 0) && (y >= 0) && (x < this.numCols) && (y < this.numRows);\n    }\n\n    isValidMove(player, direction) {\n        const pos = {x: player.x, y: player.y};\n\n        let newX = player.x;\n        let newY = player.y;\n        switch (direction) {\n        case \"left\":\n            newX--;\n            break;\n        case \"right\":\n            newX++;\n            break;\n        case \"up\":\n            newY--;\n            break;\n        case \"down\":\n            newY++;\n            break;\n        }\n\n        return this.inBounds({x: newX, y: newY}) && !this.isOccupied({x: newX, y: newY});\n    }\n\n    movePlayers(key) {\n        this.humanPlayers.forEach(player => this.move(player, key));\n    }\n\n    moveAI() {\n        this.aiPlayers.forEach(player => this.move(player, null));\n    }\n\n    move(player, key) {\n        const validMoves = [\"left\", \"right\", \"up\", \"down\"].filter(this.isValidMove.bind(this, player));\n        const direction = player.direction({key, validMoves});\n        let x = player.x;\n        let y = player.y;\n        if (direction === 'bomb' && this.grid[x][y] !== 'bomb') {\n            this.placeBomb(player);\n        } else if (this.isValidMove(player, direction)) {\n            if (this.grid[x][y] !== \"bomb\") {\n\t              this.grid[x][y] = undefined;\n            }\n\n            player.move(direction);\n            x = player.x;\n            y = player.y;\n            this.grid[x][y] = player;\n        }\n    }\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","export default class Bomb {\n    constructor({x, y}) {\n        this.x = x;\n        this.y = y;\n        this.range = 3;\n        this.lifetime = 3000;\n    }\n\n    explosionPath() {\n        function oneUpto(n) {\n            if (n <= 1) return [1];\n            return oneUpto(n - 1).concat([n]);\n        }\n\n        function line({dx, dy}) {\n            return oneUpto(this.range).reduce((list, i) => list.concat({\n                x: this.x + (dx * i),\n                y: this.y + (dy * i)\n            }), []);\n        }\n\n        line = line.bind(this);\n\n        const left = {dx: -1, dy: 0};\n        const right = {dx: 1, dy: 0};\n        const up = {dx: 0, dy: -1};\n        const down = {dx: 0, dy: 1};\n        \n        return [left, right, up, down].reduce((acc, direction) => acc.concat([line(direction)]),\n\t\t\t\t\t      [[{x: this.x, y: this.y}]]);\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bomb.js","import createjs from 'createjs';\nimport Board from './board';\nimport Player from './player/player';\nimport AIPlayer from './player/ai_player';\nimport { NUM_ROWS, NUM_COLS, MOVE_KEYS_P1, MOVE_KEYS_P2 } from './constants';\n\nfunction init() {\n    const stage = new createjs.Stage('gameEasel');\n    const player1 = new Player({\n        x: 1,\n        y: 1,\n        color: 'white',\n        moveKeys: MOVE_KEYS_P1,\n        stage\n    });\n\n    const player2 = new Player({\n        x: NUM_COLS - 2,\n        y: 1,\n        color: 'black',\n        moveKeys: MOVE_KEYS_P2,\n        stage\n    });\n\n    const player3 = new AIPlayer({\n        x: 1,\n        y: NUM_ROWS - 2,\n        color: 'red',\n        stage\n    });\n\n    const player4 = new AIPlayer({\n        x: NUM_COLS - 2,\n        y: NUM_ROWS - 2,\n        color: 'blue',\n        stage\n    });\n\n    const board = new Board(stage, [player1, player2], [player3, player4]);\n\n    createjs.Ticker.addEventListener('tick', () => tick(board, stage));\n    createjs.Ticker.paused = true;\n\n    let modal = document.getElementById('instructionsModal');\n    modal.style.display = 'block';\n    let span = document.getElementsByClassName('close')[0];\n    span.onclick = () => {\n        modal.style.display = 'none';\n        createjs.Ticker.paused = false;\n    };\n    window.onclick = e => {\n        if (e.target === modal) {\n            modal.style.display = 'none';\n            createjs.Ticker.paused = false;\n        }\n    };\n    document.onkeydown = e => handleKeyDown(e, board);\n}\n\nfunction handleKeyDown(e, board) {\n    const key = e.key;\n\n    if (MOVE_KEYS_P1[key] || MOVE_KEYS_P2[key]) {\n        e.preventDefault();\n        board.movePlayers(key);\n    }\n    if (key == \" \") {\n        e.preventDefault();\n        togglePause();\n    }\n}\n\nfunction toggleModal() {\n    let modal = document.getElementById('instructionsModal');\n    let display = modal.style.display;\n    modal.style.display = display === \"block\" ? \"none\" : \"block\";\n}\n\nfunction togglePause() {\n    toggleModal();\n    createjs.Ticker.paused = !createjs.Ticker.paused;\n}\n\nfunction tick(board, stage) {\n    stage.removeAllChildren();\n    if (!createjs.Ticker.paused) {\n        board.moveAI();\n    }\n    board.draw();\n    stage.update();\n}\n\ndocument.addEventListener('DOMContentLoaded', init);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/boom_boy.js"],"sourceRoot":""}